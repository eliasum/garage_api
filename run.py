# ะกะบัะธะฟั ะทะฐะฟััะบะฐ

#!/usr/bin/env python3
"""
ะะปะฐะฒะฝะฐั ัะพัะบะฐ ะฒัะพะดะฐ ะฒ ะฟัะธะปะพะถะตะฝะธะต Garage API
ะะฐะฟััะบ: python run.py

๐ก ะัะตะธะผััะตััะฒะฐ ััะพะณะพ ะฟะพะดัะพะดะฐ:

    โ ะะฐะฟััะบ ะธะท ะปัะฑะพะน ะดะธัะตะบัะพัะธะธ (ะตัะปะธ ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ)

    โ ะะพััะตะบัะฝัะต ะธะผะฟะพััั ะผะตะถะดั ะผะพะดัะปัะผะธ

    โ ะะตะณะบะพ ะดะพะฑะฐะฒะปััั ะฐัะณัะผะตะฝัั ะบะพะผะฐะฝะดะฝะพะน ัััะพะบะธ
"""

import os
import sys

# ะะพะฑะฐะฒะปัะตะผ ะบะพัะฝะตะฒัั ะฟะฐะฟะบั ะฒ Python path ะดะปั ะบะพััะตะบัะฝัั ะธะผะฟะพััะพะฒ
sys.path.insert(0, os.path.dirname(os.path.abspath(__file__)))

import uvicorn

if __name__ == "__main__":
    # ะะะะะะะะ ะะะ ะกะขะะะะฃ ะดะปั ัะฐะฑะพัั reload!
    uvicorn.run("app.main:app", host="0.0.0.0", port=8000, reload=True)

# poetry run uvicorn app.main:app --reload
# โ        โ   โ      โ   โ     โ  โ
# โ        โ   โ      โ   โ     โ  โโโโ 7. ะคะะะ --reload (ะฟะตัะตะทะฐะณััะทะบะฐ ะฟัะธ ะธะทะผะตะฝะตะฝะธะธ ัะฐะนะปะพะฒ)
# โ        โ   โ      โ   โ     โ
# โ        โ   โ      โ   โ     โโโโ 6. ะะะชะะะข `app` ะฒะฝัััะธ ัะฐะนะปะฐ main.py
# โ        โ   โ      โ   โ
# โ        โ   โ      โ   โโโโ 5. ะคะะะ `main.py` ะฒ ะฟะฐะฟะบะต `app/`
# โ        โ   โ      โ
# โ        โ   โ      โโโโ 4. ะะะะะ `app/` ะฒ ะฟัะพะตะบัะต
# โ        โ   โ
# โ        โ   โโโโ 3. ะกะะะะะ uvicorn (ะทะฐะฟััะบะฐะตั FastAPI)
# โ        โ
# โ        โโโโ 2. ะะะะะะะ `run` ะทะฐะฟััะบะฐะตั ะฒ ะฒะธัััะฐะปัะฝะพะผ ะพะบััะถะตะฝะธะธ Poetry
# โ
# โโโโ 1. POETRY - ะผะตะฝะตะดะถะตั ะทะฐะฒะธัะธะผะพััะตะน

# ะะพะปะฝะฐั ัะฐััะธััะพะฒะบะฐ:

#     poetry - ััะพ ะผะตะฝะตะดะถะตั ะทะฐะฒะธัะธะผะพััะตะน (ะบะฐะบ NuGet ะฒ C#)
#     run - ะทะฐะฟัััะธัั ะบะพะผะฐะฝะดั ะฒ ะฒะธัััะฐะปัะฝะพะผ ะพะบััะถะตะฝะธะธ
#     uvicorn - ะฒะตะฑ-ัะตัะฒะตั ะดะปั ASGI ะฟัะธะปะพะถะตะฝะธะน (ะบะฐะบ IIS ะดะปั .NET)
#     app.main:app - ะธะผะฟะพััะฝะฐั ัััะพะบะฐ:
#         app.main = ะผะพะดัะปั app/main.py
#         :app = ะฟะตัะตะผะตะฝะฝะฐั app ะฒ ััะพะผ ะผะพะดัะปะต (ะพะฑัะตะบั FastAPI)
#     --reload = ะฐะฒัะพะผะฐัะธัะตัะบะฐั ะฟะตัะตะทะฐะณััะทะบะฐ ะฟัะธ ะธะทะผะตะฝะตะฝะธะธ ะบะพะดะฐ
